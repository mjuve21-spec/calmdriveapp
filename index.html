<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CalmDrive</title>

<link rel="manifest" href="./manifest.json">
<link rel="icon" sizes="192x192" href="./images/icon192x192.png">
<link rel="apple-touch-icon" href="./images/icon512x512.png">

<style>
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  min-height: 100vh;
  background: linear-gradient(180deg,#0F2557,#1E3A8A,#2563EB,#3B82F6,#60A5FA);
  color: white;
  overflow-x: hidden;
}

.ambient-bg {
  position: fixed;
  inset: -30%;
  background:
    radial-gradient(circle at 25% 15%, rgba(139,92,246,0.4), transparent 30%),
    radial-gradient(circle at 75% 40%, rgba(236,72,153,0.35), transparent 35%),
    radial-gradient(circle at 50% 70%, rgba(30,58,138,0.5), transparent 40%);
  filter: blur(90px);
  z-index: -1;
  animation: drift 30s alternate infinite;
}

@keyframes drift {
  from { transform: translate(-6%, -6%); }
  to { transform: translate(6%, 6%); }
}

header {
  text-align: center;
  padding: 48px 20px 24px;
}

.logo {
  width: 96px;
  height: 96px;
  border-radius: 24px;
  margin-bottom: 16px;
  box-shadow: 0 25px 60px rgba(59,130,246,.6);
}

h1 {
  font-size: 44px;
  font-weight: 900;
}

.tagline {
  opacity: .9;
  font-weight: 600;
}

nav {
  display: flex;
  gap: 10px;
  padding: 12px;
  position: sticky;
  top: 0;
  background: rgba(15,37,87,.9);
  backdrop-filter: blur(20px);
  z-index: 10;
}

nav button {
  flex: 1;
  padding: 14px;
  border-radius: 14px;
  border: none;
  background: rgba(30,58,138,.7);
  color: white;
  font-weight: 700;
  cursor: pointer;
}

nav button.active {
  background: linear-gradient(135deg,#8B5CF6,#EC4899);
}

section {
  display: none;
  padding: 24px 16px 100px;
  max-width: 680px;
  margin: auto;
}

section.active { display: block; }

.card {
  background: rgba(30,58,138,.75);
  border-radius: 28px;
  padding: 28px;
  margin-bottom: 20px;
  box-shadow: 0 20px 50px rgba(0,0,0,.4);
}

.card h2 { margin-bottom: 12px; }

ul { list-style: none; }
li { padding: 10px 0; }

button.primary {
  width: 100%;
  padding: 16px;
  margin-top: 12px;
  border-radius: 16px;
  border: none;
  font-size: 16px;
  font-weight: 800;
  background: linear-gradient(135deg,#8B5CF6,#EC4899);
  color: white;
  cursor: pointer;
}

button.secondary {
  background: rgba(255,255,255,.15);
}

.small {
  opacity: .85;
  font-size: 14px;
  margin-top: 10px;
  text-align: center;
}

.plus {
  border: 2px dashed rgba(255,255,255,.4);
  background: rgba(15,37,87,.6);
}

footer {
  text-align: center;
  padding: 40px 20px;
  opacity: .85;
}
</style>
</head>

<body>

<div class="ambient-bg"></div>

<header>
  <img src="./images/icon192x192.png" class="logo" alt="CalmDrive">
  <h1>CalmDrive</h1>
  <div class="tagline">Arrive Calm ‚Ä¢ Arrive Safe</div>
</header>

<nav>
  <button class="active" onclick="showTab('before',this)">Before</button>
  <button onclick="showTab('during',this)">During</button>
  <button onclick="showTab('log',this)">Log</button>
</nav>

<section id="before" class="active">
  <div class="card">
    <h2>üöó Drive Mindset</h2>
    <ul>
      <li>‚úì Leave early</li>
      <li>‚úì Breathe slowly</li>
      <li>‚úì Safety over speed</li>
      <li>‚úì Let others pass</li>
    </ul>
  </div>

  <div class="card">
    <h2>üîï Silent Mode</h2>
    <p>No reminders. Just quiet support.</p>
    <button class="primary secondary">Enable Silent Mode</button>
  </div>
</section>

<section id="during">
  <div class="card">
    <h2>üéß Audio Reminders</h2>
    <select id="audioSelect">
      <option value="">Choose reminder</option>
      <option value="./audio/reminder1.mp3">Reminder 1</option>
      <option value="./audio/reminder2.mp3">Reminder 2</option>
      <option value="./audio/reminder3.mp3">Reminder 3</option>
    </select>
    <audio id="player"></audio>
    <button class="primary" onclick="playAudio()">Play</button>
    <button class="primary secondary" onclick="stopAudio()">Stop</button>
    <p class="small">You‚Äôre doing fine. Keep going.</p>
  </div>
</section>

<section id="log">
  <div class="card">
    <h2>üìà Drive Log</h2>
    <p><strong id="count">0</strong> calm drives logged</p>
    <button class="primary" onclick="logDrive()">Log This Drive</button>
  </div>

  <div class="card">
    <h2>üåø Arrival Ritual</h2>
    <p>Take one calm breath. You‚Äôve arrived.</p>
  </div>

  <div class="card plus">
    <h2>‚ú® CalmDrive Plus (Coming Later)</h2>
    <ul>
      <li>üå± Smart reminder pacing</li>
      <li>üß† Personalized calm feedback</li>
      <li>üß≠ Difficult-drive guidance</li>
      <li>‚è± Drive-length awareness</li>
      <li>üåô Automatic calm silent mode</li>
    </ul>
    <p class="small">Free users are always welcome.</p>
  </div>
</section>

<footer>
  CalmDrive ‚Ä¢ Your Calm Matters
</footer>

<script>
let drives = Number(localStorage.getItem("drives") || 0);
document.getElementById("count").textContent = drives;

function showTab(id,btn){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  btn.classList.add("active");
}

function playAudio(){
  const p=document.getElementById("player");
  const s=document.getElementById("audioSelect").value;
  if(!s){alert("Choose a reminder");return;}
  p.src=s; p.play();
}

function stopAudio(){
  const p=document.getElementById("player");
  p.pause(); p.currentTime=0;
}

function logDrive(){
  drives++;
  localStorage.setItem("drives",drives);
  document.getElementById("count").textContent=drives;
}
</script>

</body>
</html>
