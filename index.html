<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CalmDrive</title>

<link rel="manifest" href="./manifest.json">
<link rel="icon" sizes="32x32" href="./images/icon32x32.png">
<link rel="icon" sizes="192x192" href="./images/icon192x192.png">
<link rel="apple-touch-icon" href="./images/icon512x512.png">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<style>
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  min-height: 100vh;
  background: linear-gradient(180deg, #0F2557, #1E3A8A, #2563EB);
  color: white;
  overflow-x: hidden;
}

.ambient-bg {
  position: fixed;
  inset: -40%;
  background:
    radial-gradient(circle at 25% 20%, rgba(139,92,246,.4), transparent 30%),
    radial-gradient(circle at 75% 60%, rgba(236,72,153,.35), transparent 35%);
  filter: blur(90px);
  z-index: -1;
}

header {
  text-align: center;
  padding: 48px 20px 24px;
}

.logo {
  width: 96px;
  height: 96px;
  margin: 0 auto 14px;
  display: block;
  border-radius: 24px;
  box-shadow:
    0 25px 60px rgba(59,130,246,.6),
    0 0 0 6px rgba(255,255,255,.08);
}

h1 {
  font-size: 42px;
  font-weight: 900;
  margin-bottom: 6px;
}

.tagline {
  font-size: 14px;
  font-weight: 600;
  opacity: .9;
}

nav {
  display: flex;
  gap: 10px;
  padding: 14px;
  position: sticky;
  top: 0;
  background: rgba(15,37,87,.85);
  backdrop-filter: blur(20px);
}

nav button {
  flex: 1;
  padding: 14px;
  border-radius: 14px;
  border: none;
  background: rgba(30,58,138,.7);
  color: white;
  font-weight: 700;
  cursor: pointer;
}

nav button.active {
  background: linear-gradient(135deg, #8B5CF6, #EC4899);
}

section {
  display: none;
  padding: 24px 16px 90px;
  max-width: 680px;
  margin: auto;
}

section.active { display: block; }

.card {
  background: linear-gradient(145deg, rgba(30,58,138,.85), rgba(15,37,87,.9));
  border-radius: 28px;
  padding: 28px;
  margin-bottom: 22px;
  border: 1.5px solid rgba(255,255,255,.25);
  box-shadow: 0 22px 55px rgba(0,0,0,.45);
}

.card h2 {
  font-size: 26px;
  margin-bottom: 14px;
}

.card ul {
  list-style: none;
}

.card ul li {
  padding: 14px 0;
  border-bottom: 1px solid rgba(255,255,255,.15);
}

.reminder-card {
  background: linear-gradient(
    145deg,
    rgba(139,92,246,.35),
    rgba(30,58,138,.55)
  );
}

select {
  width: 100%;
  padding: 16px;
  border-radius: 14px;
  background: rgba(15,37,87,.9);
  border: 1.5px solid rgba(255,255,255,.3);
  color: white;
  font-weight: 600;
  margin-bottom: 14px;
}

button.primary {
  width: 100%;
  padding: 18px;
  border-radius: 16px;
  border: none;
  font-weight: 800;
  margin-top: 10px;
  background: linear-gradient(135deg, #8B5CF6, #EC4899);
  color: white;
  cursor: pointer;
}

button.secondary {
  background: linear-gradient(135deg, rgba(139,92,246,.6), rgba(236,72,153,.5));
}

.small {
  margin-top: 14px;
  font-weight: 600;
  opacity: .9;
  text-align: center;
}

footer {
  text-align: center;
  padding: 40px 20px;
  font-weight: 700;
  opacity: .8;
}
</style>
</head>

<body>

<div class="ambient-bg"></div>

<header>
  <!-- LOGO FIXED -->
  <img src="./images/icon512x512.png" alt="CalmDrive Logo" class="logo">
  <h1>CalmDrive</h1>
  <p class="tagline">Arrive Calm ‚Ä¢ Arrive Safe</p>
</header>

<nav>
  <button class="active" onclick="showTab('before')">Before</button>
  <button onclick="showTab('during')">During</button>
  <button onclick="showTab('log')">Log</button>
</nav>

<section id="before" class="active">
  <div class="card">
    <h2>Pre-Drive Mindset</h2>
    <ul>
      <li>Leave early ‚Äî no rush</li>
      <li>Three slow breaths</li>
      <li>Safety over speed</li>
      <li>You‚Äôre allowed to be calm</li>
    </ul>
  </div>
</section>

<section id="during">
  <div class="card reminder-card">
    <h2>üéß Audio Reminders</h2>
    <audio id="player"></audio>

    <select id="audioSelect">
      <option value="">Choose a reminder</option>
      <option value="./audio/reminder1.mp3">Reminder 1</option>
      <option value="./audio/reminder2.mp3">Reminder 2</option>
      <option value="./audio/reminder3.mp3">Reminder 3</option>
      <option value="./audio/reminder4.mp3">Reminder 4</option>
      <option value="./audio/reminder5.mp3">Reminder 5</option>
      <option value="./audio/reminder6.mp3">Reminder 6</option>
    </select>

    <button class="primary" onclick="playAudio()">‚ñ∂ Play Reminder</button>
    <button class="primary secondary" onclick="stopAudio()">‚è∏ Stop</button>

    <p class="small">You‚Äôre doing fine. Keep going.</p>
  </div>
</section>

<section id="log">
  <div class="card">
    <h2>Drive Log</h2>
    <p id="logText">0 calm drives logged</p>
    <button class="primary" onclick="logDrive()">‚úì Log This Drive</button>
    <p class="small">Take one calm breath. You‚Äôve arrived.</p>
  </div>

  <div class="card">
    <h2>CalmDrive Plus</h2>
    <ul>
      <li>Smart reminder pacing</li>
      <li>Personalized reassurance</li>
      <li>Post-drive recovery support</li>
      <li>Drive-length awareness</li>
      <li>Automatic calm silent mode</li>
    </ul>
    <p class="small">Coming later. Free users always welcome.</p>
  </div>
</section>

<footer>
  CalmDrive ‚Ä¢ Your Calm Matters
</footer>

<script>
let drives = 0;
const logText = document.getElementById('logText');
const player = document.getElementById('player');

function showTab(id) {
  document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  event.target.classList.add('active');
  stopAudio();
}

function playAudio() {
  const src = document.getElementById('audioSelect').value;
  if (!src) return alert('Choose a reminder first');
  player.src = src;
  player.play();
}

function stopAudio() {
  player.pause();
  player.currentTime = 0;
}

function logDrive() {
  drives++;
  logText.textContent = `${drives} calm drive${drives === 1 ? '' : 's'} logged`;
}
</script>

</body>
</html>
